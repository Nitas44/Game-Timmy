<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple Dodge Game</title>
<style>
    body { margin: 0; background: #87CEEB; display: flex; justify-content: center; align-items: center; height: 100vh; }
    canvas { border: 2px solid #555; background: #eee; }
</style>
</head>
<body>
<canvas id="gameCanvas" width="800" height="500"></canvas>
<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

let player = { x: 375, y: 450, width: 50, height: 50, speed: 7 };
let obstacles = [];
let score = 0;
let health = 100;
let keys = {};

document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);

function spawnObstacle() {
    let x = Math.random() * (canvas.width - 50);
    obstacles.push({ x: x, y: 0, width: 50, height: 50 });
}

function update() {
    // Move player
    if (keys['ArrowLeft'] && player.x > 0) player.x -= player.speed;
    if (keys['ArrowRight'] && player.x + player.width < canvas.width) player.x += player.speed;

    // Move obstacles
    for (let i = obstacles.length - 1; i >= 0; i--) {
        obstacles[i].y += 4;
        // Collision
        if (
            obstacles[i].x < player.x + player.width &&
            obstacles[i].x + obstacles[i].width > player.x &&
            obstacles[i].y < player.y + player.height &&
            obstacles[i].y + obstacles[i].height > player.y
        ) {
            health -= 1;
            obstacles.splice(i, 1);
        } else if (obstacles[i].y > canvas.height) {
            obstacles.splice(i, 1);
        }
    }

    score++;
    if (health <= 0) {
        alert('Game Over! Score: ' + score);
        score = 0;
        health = 100;
        obstacles = [];
    }
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    // Draw player
    ctx.fillStyle = 'green';
    ctx.fillRect(player.x, player.y, player.width, player.height);
    // Draw obstacles
    ctx.fillStyle = 'red';
    obstacles.forEach(o => ctx.fillRect(o.x, o.y, o.width, o.height));
    // Draw score & health
    ctx.fillStyle = 'black';
    ctx.font = '20px Arial';
    ctx.fillText('Score: ' + score, 10, 30);
    ctx.fillText('Health: ' + health, 10, 60);
}

function gameLoop() {
    if (Math.random() < 0.02) spawnObstacle();
    update();
    draw();
    requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>
